{% set hv_library_mapping = {
  'panel': {
    'text': 'Panel',
    'url': 'https://param.holoviz.org',
    'title': 'Assembling objects from many different libraries into a layout or app, whether in a Jupyter notebook or in a standalone servable dashboard',
  },
  'hvplot': {
    'text': 'hvPlot',
    'url': 'https://hvplot.holoviz.org',
    'title': 'Quickly return interactive HoloViews, GeoViews, or Panel objects from Pandas, Xarray, or other data structures',
  },
  'holoviews': {
    'text': 'HoloViews',
    'url': 'https://holoviews.org',
    'title': 'Declarative objects for instantly visualizable data, building Bokeh plots from convenient high-level specifications',
  },
  'geoviews': {
    'text': 'GeoViews',
    'url': 'https://geoviews.org',
    'title': 'Visualizable geographic data that that can be mixed and matched with HoloViews objects',
  },
  'datashader': {
    'text': 'Datashader',
    'url': 'https://datashader.org',
    'title': 'Rasterizing huge datasets quickly as fixed-size images',
  },
  'param': {
    'text': 'Param',
    'url': 'https://param.holoviz.org',
    'title': 'Make your Python code clearer and more reliable by declaring Parameters',
  },
  'lumen': {
    'text': 'Lumen',
    'url': 'https://lumen.holoviz.org',
    'title': 'Framework for visual analytics that allows users to build data-driven dashboards from a simple YAML specification',
  },
  'colorcet': {
    'text': 'Colorcet',
    'url': 'https://colorcet.holoviz.org',
    'title': 'A wide range of perceptually uniform continuous colormaps and perceptually based categorical color sets for use with the other libraries',
  },
} %}

{% set hv_others_mapping = {
  'examples': {
    'text': 'Examples Gallery',
    'url': 'https://examples.holoviz.org',
    'title': ' Visualization-focused examples using HoloViz for specific topics ',
  },
  'blog': {
    'text': 'Blog',
    'url': 'https://blog.holoviz.org',
    'title': 'HoloViz blog',
  },
} %}

<div class="hv-sidebar-dropdown">
  <div class="btn-group">
    <a href="https://holoviz.org" class="btn btn-light" target="_blank">HoloViz.org<i class="fa fa-external-link hv-icon" aria-hidden="true"></i></a>
    <button type="button" class="btn btn-light dropdown-toggle dropdown-toggle-split" data-bs-toggle="dropdown" aria-expanded="false">
      <span class="visually-hidden"></span>
    </button>
    <ul class="dropdown-menu bg-light">
      {% for project_name, project_opts in hv_library_mapping.items() %}
      {% if project_name | lower not in project | lower %}
        <li><a class="dropdown-item" href="{{ project_opts['url'] }}" target="_blank" title="{{ project_opts['title'] }}">{{ project_opts['text'] }}<i class="fa fa-external-link hv-icon" aria-hidden="true"></i></a></li>
      {% endif %}
      {% endfor %}
        <li><hr class="dropdown-divider"></li>
      {% for project_name, project_opts in hv_others_mapping.items() %}
      {% if project_name | lower not in project | lower %}
        <li><a class="dropdown-item" href="{{ project_opts['url'] }}" target="_blank" title="{{ project_opts['title'] }}">{{ project_opts['text'] }}<i class="fa fa-external-link hv-icon" aria-hidden="true"></i></a></li>
      {% endif %}
      {% endfor %}
    </ul>
  </div>
</div>
